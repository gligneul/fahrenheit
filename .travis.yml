dist: trusty
language: c
compiler: gcc

addons:
  apt:
    packages:
      - cmake
      - lua5.2

before_install:
  - wget http://releases.llvm.org/3.9.1/clang+llvm-3.9.1-x86_64-linux-gnu-ubuntu-14.04.tar.xz
  - unxz clang+llvm-3.9.1-x86_64-linux-gnu-ubuntu-14.04.tar.xz
  - tar xfv clang+llvm-3.9.1-x86_64-linux-gnu-ubuntu-14.04.tar
  - mv clang+llvm-3.9.1-x86_64-linux-gnu-ubuntu-14.04 llvm

script:
  - mkdir build; cd build
  - cmake -DLLVM_DIR="`pwd`/../llvm/lib/cmake/llvm" .
  - make 
  - cd ../examples
  - mkdir build; cd build
  - cmake -DLLVM_DIR="`pwd`/../../llvm/lib/cmake/llvm" .
  - make
  - cd ../../tests
  - mkdir build; cd build
  - cmake -DLLVM_DIR="`pwd`/../../llvm/lib/cmake/llvm" .
  - make 
  - make test

notifications:
  email: false

